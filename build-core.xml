<?xml version="1.0" encoding="UTF-8"?>
<project name="birf-build-core">
	<property name="MAX_MEMORY" value="512m" />
	<property name="STRICT" value="true" />
	<property name="SHOW_DEPRECATION_WARNINGS" value="false" />
	<property name="SWF_VERSION" value="10" />
	<property name="TARGET_PLAYER_VERSION" value="10.0.0" />
	
	<target name="compile-release">
		<echo message="__[ COMPILING CORE RELEASE SWC ]__" />
		<compc output="${OUT_DIR}/birf-v${BUILD_VERSION}.swc"
				optimize="true"
				debug="false"
				compiler.as3="true"
				incremental="true"
				maxmemory="${MAX_MEMORY}"
				strict="${STRICT}"
				compiler.show-deprecation-warnings="${SHOW_DEPRECATION_WARNINGS}"
				swf-version="${SWF_VERSION}"
				target-player="${TARGET_PLAYER_VERSION}">
			<load-config filename="${FLEX_HOME}/frameworks/flex-config.xml" />
			
			<include-sources dir="${SRC_DIR}" includes="*" />
			<external-library-path dir="${LIB_DIR}" append="true">
				<include name="*.swc" />
			</external-library-path>
			<compiler.define name="CONFIG::VERSION" value="'${BUILD_VERSION}'" />
			<compiler.define name="CONFIG::DEBUG" value="false" />
		</compc>
	</target>
	
	<target name="compile">
		<echo message="__[ COMPILING CORE DEBUG SWC ]__" />
		<compc output="${OUT_DIR}/birf-v${BUILD_VERSION}-debug.swc"
				optimize="false"
				debug="true"
				compiler.as3="true"
				incremental="true"
				maxmemory="${MAX_MEMORY}"
				strict="${STRICT}"
				compiler.show-deprecation-warnings="${SHOW_DEPRECATION_WARNINGS}"
				swf-version="${SWF_VERSION}"
				target-player="${TARGET_PLAYER_VERSION}">
			<load-config filename="${FLEX_HOME}/frameworks/flex-config.xml" />
			<source-path path-element="${SRC_DIR}" />
			<include-sources dir="${SRC_DIR}" includes="*" />
			<external-library-path dir="${LIB_DIR}" append="true">
				<include name="*.swc" />
			</external-library-path>
			<compiler.define name="CONFIG::VERSION" value="'${BUILD_VERSION}'" />
			<compiler.define name="CONFIG::DEBUG" value="true" />
		</compc>
	</target>
</project>